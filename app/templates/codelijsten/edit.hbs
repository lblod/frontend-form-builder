{{page-title "Edit"}}

<AuToolbar @size="medium" @skin="tint" @border="bottom" as |Group|>
  <Group>
    <ul class="au-c-list-horizontal au-c-list-horizontal--small">
      <li class="au-c-list-horizontal__item">
        <AuLink
          @route="codelijsten"
          @skin="primary"
          @icon="arrow-left"
          @iconAlignment="left"
        >Terug naar codelijsten</AuLink>
      </li>
      <li class="au-c-list-horizontal__item au-u-bold">
        Codelijst detail
      </li>
    </ul>
  </Group>
  <AuButtonGroup>
    <AuButton @skin="primary" @disabled={{this.isSaveDisabled}}>
      Bewaar
    </AuButton>
    <AuButton
      @skin="secondary"
      @icon="bin"
      @iconAlignment="left"
      @alert={{true}}
      @disabled={{this.isPrivateConceptScheme}}
      @loadingMessage="Aan het verwijderen"
      {{on "click" (fn (mut this.isDeleteModalOpen) true)}}
    >
      Verwijderen
    </AuButton>
  </AuButtonGroup>
</AuToolbar>

<div class="codelijsten__edit">
  <span class="au-u-padding">
    {{#if this.isPrivateConceptScheme}}
      <AuAlert @title={{"Opgelet"}} @skin={{"warning"}} @icon={{"login"}}>
        <p>Niet publieke codelijsten kunnen niet aangepast worden.</p>
      </AuAlert>
    {{/if}}
    <div class="au-u-3-5 au-u-margin-bottom-large">
      <AuLabel for="input-codelist-name" @required={{true}}>
        Naam van de codelijst
      </AuLabel>
      <AuInput
        id="input-codelist-name"
        @width="block"
        @disabled={{this.isPrivateConceptScheme}}
        value={{this.name}}
      />
    </div>
  </span>
  <div>
    <AuTable class="au-u-margin-bottom-small">
      <:header>
        <tr>
          <th>Label</th>
        </tr>
      </:header>
      <:body>
        {{#each this.concepts as |concept|}}
          <tr>
            <td class="au-u-visible-medium-up">
              {{#if this.isPrivateConceptScheme}}
                <td>{{concept.label}}</td>
              {{else}}
                <td><AuInput id={{concept.id}} value={{concept.label}} /></td>
              {{/if}}
            </td>
          </tr>
        {{/each}}
      </:body>
    </AuTable>
  </div>
</div>

<AuModal @modalOpen={{this.isDeleteModalOpen}} @closeModal={{this.close}}>
  <:title>Codelijst verwijderen?</:title>
  <:body>
    Bent u zeker dat u deze codelijst wilt verwijderen? Deze actie is permanent.
  </:body>
  <:footer>
    <AuButtonGroup>
      <AuButton
        @icon="bin"
        @iconAlignment="left"
        @alert={{true}}
        @loadingMessage="Aan het verwijderen"
        {{on "click" this.deleteCodelist}}
      >
        Verwijderen
      </AuButton>
      <AuButton
        @skin="secondary"
        @disabled={{this.delete.isRunning}}
        {{on "click" (fn (mut this.isDeleteModalOpen) false)}}
      >
        Annuleer
      </AuButton>
    </AuButtonGroup>
  </:footer>
</AuModal>