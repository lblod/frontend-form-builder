{{page-title "Code editor"}}

<div class="au-c-body-container au-u-margin-bottom-none">
  <AuBodyContainer
    @scroll={{true}}
  >
    <AuContent
      @skin="small"
      {{editor this.formCode (perform this.handleCodeChange)}}>
    </AuContent>
  </AuBodyContainer>
  <div>
    <AuButton 
      @width="block"
      {{on "click" this.toggleOpenCloseConsoleState}}
    >
      {{t "codeConsole.buttonNotification"}}: {{this.warnings.length}}
    </AuButton>
  </div>
  {{#unless this.consoleClosed}}
  <AuBodyContainer class="code-edit-console__container">
    <AuBodyContainer 
      class="code-edit-console au-u-margin-tiny"
      @scroll={{true}}
    >
      {{#each this.warnings as |warning|}}
        <AuContent
          class="code-edit-warning au-u-margin-top-tiny"
        >
          <AuIcon @icon="alert-triangle" @size="large" @alignment="left"/>
          <span class="au-u-margin-right">WARNING</span>
          <span class="au-u-bold">Subject: </span>
          <span class="au-u-margin-right">{{warning.subject}}</span>
          <span class="au-u-text-right au-u-bold">{{warning.message}}</span>
        </AuContent>
      {{/each}}
    </AuBodyContainer>
  </AuBodyContainer>
  {{/unless}}
</div>