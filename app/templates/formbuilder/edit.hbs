{{page-title "Formbuilder"}}

<Toolbar
  @model={{this.model.generatedForm}}
  @code={{this.formCode}}
  @setActiveTab={{this.setActiveTab}}
  @formChanged={{this.formChanged}}
  @onCodeChange={{this.handleCodeChange}}
  @setFormChanged={{this.setFormChanged}}
/>

<main id="main" class="au-c-main-container">
  <div class="au-c-main-container__content">
    <div class="formBuilderEdit">
      {{outlet}}
      <div class="formBuilderEdit__preview au-u-padding-small">
        {{#if this.setupPreviewForm.isRunning}}
          <AuLoader />
        {{else}}
          <RdfForm
            @groupClass="au-u-margin-left-small au-u-margin-top"
            @form={{this.previewForm}}
            @graphs={{this.graphs}}
            @sourceNode={{this.sourceNode}}
            @formStore={{this.previewStore}}
            @forceShowErrors={{true}}
            @useNewListingLayout={{true}}
          />
        {{/if}}
      </div>
    </div>
  </div>
</main>